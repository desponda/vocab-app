apiVersion: v1
kind: Secret
metadata:
  name: {{ include "vocab-app.fullname" . }}-secrets
type: Opaque
stringData:
  postgres-password: {{ .Values.secrets.postgresPassword | quote }}
  database-url: {{ printf "postgresql://%s:%s@%s-postgres:%d/%s" .Values.postgres.env.0.value .Values.secrets.postgresPassword (include "vocab-app.fullname" .) (.Values.postgres.service.port | int) .Values.postgres.env.0.value | quote }}
  jwt-access-secret: {{ .Values.secrets.jwtAccessSecret | quote }}
  jwt-refresh-secret: {{ .Values.secrets.jwtRefreshSecret | quote }}
  {{- if .Values.secrets.anthropicApiKey }}
  anthropic-api-key: {{ .Values.secrets.anthropicApiKey | quote }}
  {{- end }}
