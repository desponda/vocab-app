{{- if and (not .Values.secrets.useLegacySecret) .Values.secrets.anthropic.createFromHelm .Values.secrets.anthropic.apiKey }}
---
# Anthropic Secret - Created from Helm values (local development only)
# WARNING: This secret is created from Helm values
# Only use for local development. Production should use external secret management.
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secrets.anthropic.secretName }}
  labels:
    {{- include "vocab-app.labels" . | nindent 4 }}
    app.kubernetes.io/component: anthropic-secret
type: Opaque
stringData:
  anthropic-api-key: {{ .Values.secrets.anthropic.apiKey | quote }}
{{- else if and (not .Values.secrets.useLegacySecret) }}
---
# Anthropic Secret - Managed externally (optional)
# Expected secret name: {{ .Values.secrets.anthropic.secretName }}
# Required keys: anthropic-api-key
# This secret is optional - only needed if Anthropic API features are used
# Create using: kubectl create secret generic {{ .Values.secrets.anthropic.secretName }} \
#                  --from-literal=anthropic-api-key=<api-key>
{{- end }}
